{"version":3,"sources":["04-units/03-search/search.js"],"names":["$","Drupal","behaviors","searchHighlight","attach","once","each","val","searchString","split","fn","wrapInTag","opts","tag","words","regex","RegExp","join","html","text","replace","jQuery"],"mappings":"aAAA,CAAC,SAASA,CAAT,CAAYC,CAAZ,CAAoB,CAErB;AACAA,CAAM,CAACC,SAAP,CAAiBC,eAAjB,CAAmC,CAClCC,MAAM,CAAE,iBAA6B,CACnCJ,CAAC,CAAC,iBAAD,CAAD,CAAqBK,IAArB,CAA0B,SAA1B,EAAqCC,IAArC,CAA0C,UAAU,CAGjD;AACA,GAAGN,CAAC,CAAC,gCAAD,CAAmC,IAAnC,CAAD,CAA0CO,GAA1C,EAAH,CAAmD,CACjD,GAAIC,CAAAA,CAAY,CAAGR,CAAC,CAAC,gCAAD,CAAmC,IAAnC,CAAD,CAA0CO,GAA1C,GAAgDE,KAAhD,CAAsD,GAAtD,CAAnB,CAEAT,CAAC,CAACU,EAAF,CAAKC,SAAL,CAAiB,SAASC,CAAT,CAAe,CAE9B,GAAIC,CAAAA,CAAG,CAAGD,CAAI,CAACC,GAAf,CACIC,CAAK,CAAGF,CAAI,CAACE,KAAL,EAAc,EAD1B,CAEIC,CAAK,CAAGC,MAAM,CAACF,CAAK,CAACG,IAAN,CAAW,GAAX,CAAD,CAAkB,IAAlB,CAAwB;AAF1C,CAKA,MAAO,MAAKC,IAAL,CAAU,UAAW,CAC1B,MAAOlB,CAAAA,CAAC,CAAC,IAAD,CAAD,CAAQmB,IAAR,GAAeC,OAAf,CAAuBL,CAAvB,CAHS,IAAKF,CAAL,CAAU,OAAV,CAAmBA,CAAnB,CAAwB,GAGjC,CACR,CAFM,CAGR,CAbgD,CAejDb,CAAC,CAAC,qBAAD,CAAD,CAAyBW,SAAzB,CAAmC,CACjCE,GAAG,CAAE,iCAD4B,CAEjCC,KAAK,CAAEN,CAF0B,CAAnC,CAID,CAEJ,CAzBA,CA0BD,CA5BiC,CAiClC,CApCD,EAoCGa,MApCH,CAoCWpB,MApCX,C","sourcesContent":["(function($, Drupal) {\r\n\r\n//highlight search results\r\nDrupal.behaviors.searchHighlight = {\r\n\tattach: function (context, settings) {\r\n\t \t$(\".search-results\").once('tSearch').each(function(){  \r\n\r\n\r\n      //find searched value if not null and highlight each word\r\n      if($('#edit-site-search-api-fulltext', this).val()){\r\n        var searchString = $('#edit-site-search-api-fulltext', this).val().split(' ');\r\n        \r\n        $.fn.wrapInTag = function(opts) {\r\n\r\n          var tag = opts.tag\r\n            , words = opts.words || []\r\n            , regex = RegExp(words.join('|'), 'gi') // case insensitive\r\n            , replacement = '<'+ tag +'>$&</'+ tag +'>';\r\n\r\n          return this.html(function() {\r\n            return $(this).text().replace(regex, replacement);\r\n          });\r\n        };\r\n\r\n        $('.views-field-body-1').wrapInTag({\r\n          tag: 'mark class=\"search-highlight\"',\r\n          words: searchString\r\n        });\r\n      }\r\n      \r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n\r\n})(jQuery, Drupal);\r\n\r\n\r\n\r\n"],"file":"search.js"}