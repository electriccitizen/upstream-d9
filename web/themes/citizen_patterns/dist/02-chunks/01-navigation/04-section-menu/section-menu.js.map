{"version":3,"sources":["02-chunks/01-navigation/04-section-menu/section-menu.js"],"names":["$","Drupal","mobileSectionnav","wwidth","window","outerWidth","attr","removeAttr","behaviors","sectionMenu","attach","context","once","each","click","e","preventDefault","is","removeClass","find","addClass","closest","next","slideUp","slideDown","on","_","debounce","trigger","document","ready","length","prepend","siblings","end","parentsUntil","jQuery"],"mappings":"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","sourcesContent":["(function($, Drupal) {\r\nDrupal.behaviors.sectionMenu = {\r\n\tattach: function (context, settings) {\r\n\t\t$(\".block--system-menu.section-menu\", context).once('section-menu').each(function(){  \r\n\t\t\t//mobile toggle\r\n\t\t\t$('.section-menu-toggle').click(function(e){\r\n\t\t\t\te.preventDefault();\r\n\t\t      if($(window).outerWidth() < 980){\r\n\t\t        if($(this).is('.active-nav')){\r\n\t\t          $(this).attr('aria-expanded', 'false').removeClass('active-nav').find('i').removeClass('fa-times-circle').addClass('fa-bars').closest('#section-menu-title').next('#section-menu-wrapper').attr('aria-hidden', 'true').slideUp(500);\r\n\t\t        }else{\r\n\t\t          $(this).attr('aria-expanded', 'true').addClass('active-nav').find('i').removeClass('fa-bars').addClass('fa-times-circle').closest('#section-menu-title').next('#section-menu-wrapper').attr('aria-hidden', 'false').slideDown(500);\r\n\t\t        }\r\n\t\t      }\r\n\t\t\t});\r\n\r\n\t\t\t$(window).on('resize',  _.debounce( mobileSectionnav, 10 )).trigger('resize');\r\n\t\t\t\t\t\r\n\t\t\t//need doc ready because active-class script fires after theme scripts\r\n\t\t\t$(document).ready(function(){\r\n\t\t\t\t$('#section-menu-wrapper ul li').each(function(){\r\n\t\t\t\t\t//find nested lists and set their parents and expanders\r\n\t\t\t\t\tif(($('ul', this).length) && (!$('.expander:first', this).length) ){\r\n\t\t\t\t\t  $(this).addClass('parent').prepend('<a href=\"#\" class=\"expander\" aria-expanded=\"false\" role=\"button\" aria-label=\"Section Submenu Expander\"></a>').find(' > a:not(.expander)').next('ul').attr('aria-hidden', 'true');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//find active links and set the active trail\r\n\t\t\t\t\t$('.is-active', this).removeAttr('href').siblings('ul').slideDown(100).attr('aria-hidden', 'false').end().parentsUntil('#section-menu-wrapper > ul').addClass('active-trail expanded');\r\n\r\n\t\t\t\t\t//find active-trail li and add aria expanded role to the expander\r\n\t\t\t\t\t$('li.active-trail > .expander').attr('aria-expanded', \"true\").siblings('ul').attr('aria-hidden', 'false');\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//set button roles, tab indexes and keypresses on sidebar links\r\n\t\t\t\t$(document).on('click','#section-menu-wrapper .expander',function(e){\r\n\t\t\t\t\te.preventDefault();\r\n          if($(this).attr('aria-expanded') == 'false'){\r\n            $(this).attr('aria-expanded', \"true\").siblings('ul').slideDown(300).attr('aria-hidden', 'false').end().closest('li').addClass('expanded');\r\n          }else{\r\n            $(this).attr('aria-expanded', \"false\").siblings('ul').slideUp(300).attr('aria-hidden', 'true').end().closest('li').removeClass('expanded');\r\n          }\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}//end section menu function\r\n\r\nfunction mobileSectionnav() {\r\n  var wwidth = $(window).outerWidth();\r\n  if (wwidth < 980) {\r\n  \t$('.section-menu-toggle').attr('href','#');\r\n    //add aria roles to menu title and wrapper if not already set by click above \r\n    if(!$('.section-menu-toggle').attr('aria-controls')){\r\n      $('.section-menu-toggle').attr({\r\n        'aria-controls': 'section-menu-wrapper', \r\n        'aria-expanded': 'false'\r\n      });\r\n      $('#section-menu-wrapper').attr('aria-hidden', 'true');\r\n    } \r\n  }else{\r\n    //strip all aria roles & prevent click\r\n    $('.section-menu-toggle').removeAttr('aria-controls aria-expanded role href');\r\n    $('#section-menu-wrapper').removeAttr('aria-hidden');\r\n  }\r\n};\r\n\r\n\r\n})(jQuery, Drupal);\r\n"],"file":"section-menu.js"}