{"version":3,"sources":["02-chunks/01-navigation/05-widget-anchors/widget-anchors.js"],"names":["$","mobileAnchorNav","wwidth","window","outerWidth","attr","removeAttr","Drupal","behaviors","widgetAnchors","attach","context","once","each","click","e","preventDefault","is","removeClass","find","addClass","closest","next","slideUp","slideDown","on","_","debounce","trigger","anchor","setTimeout","animate","scrollTop","offset","top","jQuery"],"mappings":"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","sourcesContent":["(function ($) {\n\nDrupal.behaviors.widgetAnchors = {\n\tattach: function (context, settings) {\n\t\t$(\".widget-anchors\", context).once('smoothscroll').each(function(){  \n    \t//open in this section\n    \t$('.toc-toggle').click(function(e){\n    \t\te.preventDefault();\n\t      if($(window).outerWidth() < 760){\n\t        if($(this).is('.active-nav')){\n\t          $(this).attr('aria-expanded', 'false').removeClass('active-nav').find('i').removeClass('fa-times-circle').addClass('fa-bars').closest('#toc-title').next('#toc-anchor-wrapper').attr('aria-hidden', 'true').slideUp(500);\n\t        }else{\n\t          $(this).attr('aria-expanded', 'true').addClass('active-nav').find('i').removeClass('fa-bars').addClass('fa-times-circle').closest('#toc-title').next('#toc-anchor-wrapper').attr('aria-hidden', 'false').slideDown(500);\n\t        }\n\t      }\n    \t});\n\n    \t$(window).on('resize',  _.debounce( mobileAnchorNav, 10 )).trigger('resize');\n\n    \t//scroll to anchors\n    \t$('a:not(.toc-toggle)', this).click(function(e){\n    \t\te.preventDefault();\n    \t\t//close the anchor nav and reset arias\n    \t\t$('.toc-toggle.active-nav').attr('aria-expanded', 'false').removeClass('active-nav').find('i').removeClass('fa-times-circle').addClass('fa-bars').closest('#toc-title').next('#toc-anchor-wrapper').attr('aria-hidden', 'true').slideUp(10);\n    \t\t//scroll to the anchor\n    \t\tvar anchor = $(this).attr('href');\n    \t\tsetTimeout(function(){\n    \t\t\t$('html, body').animate({\n            \t scrollTop: $(anchor).offset().top - 100\n         \t});\n    \t\t}, 20);\n    \t});\n   });\n  }\n};//end widget anchors\n\nfunction mobileAnchorNav() {\n  var wwidth = $(window).outerWidth();\n  if (wwidth < 760) {\n    //add aria roles to anchors title and wrapper if not already set by click above \n    if(!$('.toc-toggle').attr('aria-controls')){\n      $('.toc-toggle').attr({\n        'aria-controls': 'toc-anchor-wrapper', \n        'aria-expanded': 'false', \n        'role': 'button'\n      });\n      $('#toc-anchor-wrapper').attr('aria-hidden', 'true');\n    } \n  }else{\n    //strip all aria roles & prevent click\n    $('.toc-toggle').removeAttr('aria-controls aria-expanded role');\n    $('#toc-anchor-wrapper').removeAttr('aria-hidden');\n  }\n};\n\n\n\n})(jQuery);"],"file":"widget-anchors.js"}