{"version":3,"sources":["03-composites/02-paragraphs/01-accordion/accordion.js"],"names":["$","Drupal","behaviors","accordion","attach","context","anchorOpen","$anchor","setTimeout","animate","scrollTop","offset","top","accordionOpen","parent","$activeHeader","find","slideUp","attr","end","removeClass","addClass","next","slideDown","once","each","click","e","preventDefault","activeHeader","closest","length","windowTop","window","currentAccordion","controlId","urlHash","location","hash","substr","jQuery"],"mappings":"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","sourcesContent":["(function($, Drupal) {\r\n\r\nDrupal.behaviors.accordion = {\r\n    attach: function (context, settings) {\r\n      $(\".accordion-item\", context).once('accordion').each(function(){\r\n        //open and shut accordions on click\r\n        $('.accordion-header a', this).click(function(e){\r\n          e.preventDefault();\r\n          var activeHeader = $(this).parent('.accordion-header');\r\n          if (activeHeader.closest('.accordion-item.accord-active').length) {\r\n            $('.accord-active').removeClass('accord-active');\r\n            activeHeader.next().slideUp(300).attr('aria-hidden', 'true').end().find('a').attr('aria-expanded', \"false\");\r\n          }\r\n          else {\r\n            accordionOpen(activeHeader);\r\n            //detect if accordion top is offscreen and scroll to it if it is\r\n            setTimeout(function() {\r\n              var windowTop = $(window).scrollTop();\r\n              var currentAccordion = $('.accord-active').offset().top;\r\n              if(windowTop > currentAccordion){\r\n                $('html, body').animate({\r\n                        scrollTop: $('.accord-active').offset().top - 100\r\n                    });\r\n              }\r\n            }, 510);\r\n          }\r\n        });\r\n\r\n        var controlId = $(this).find('.accordion-header a').attr('id');\r\n        if (controlId) {\r\n          $(\"a[href='#\" + controlId + \"']\", context).click(function(e) {\r\n            e.preventDefault();\r\n            anchorOpen($($(this).attr('href'), context));\r\n          });\r\n        }\r\n      });\r\n\r\n      var urlHash = window.location.hash.substr(0);\r\n      if (urlHash) {\r\n        $(urlHash, context).once('accordionscroll').each(function() {\r\n          $activeHeader = $(this).parent('.accordion-header');\r\n          if ($activeHeader) {\r\n            accordionOpen($activeHeader);\r\n          }\r\n        });\r\n      }\r\n\r\n      function anchorOpen($anchor) {\r\n        setTimeout(function(){\r\n          $('html, body').animate({\r\n            scrollTop: $anchor.offset().top - 100\r\n          });\r\n        }, 20);\r\n        accordionOpen($anchor.parent('.accordion-header'));\r\n      }\r\n\r\n      function accordionOpen($activeHeader) {\r\n        $('.accord-active').find('.field-long-text').slideUp(300).attr('aria-hidden', 'true').end().removeClass('accord-active').find('.accordion-header a').attr('aria-expanded', 'false');\r\n        $activeHeader.parent('.accordion-item').addClass('accord-active').end().next().slideDown(300).attr('aria-hidden', 'false').end().find('a').attr('aria-expanded', \"true\");\r\n      }\r\n    }\r\n}\r\n\r\n})(jQuery, Drupal);\r\n"],"file":"accordion.js"}